<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Jules Fouchy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Jules Fouchy Atom Feed"><title data-react-helmet="true">Golden White Noise | Jules Fouchy</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://julesfouchy.github.io//blog/2021/03/19/golden-white-noise"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Golden White Noise | Jules Fouchy"><meta data-react-helmet="true" name="description" content="Every person interested in rendering through fragment shaders has already come across a function like this to generate some white noise:"><meta data-react-helmet="true" property="og:description" content="Every person interested in rendering through fragment shaders has already come across a function like this to generate some white noise:"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2021-03-19T00:00:00.000Z"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://julesfouchy.github.io//blog/2021/03/19/golden-white-noise"><link data-react-helmet="true" rel="alternate" href="https://julesfouchy.github.io//blog/2021/03/19/golden-white-noise" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://julesfouchy.github.io//blog/2021/03/19/golden-white-noise" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a61774f9.css">
<link rel="preload" href="/assets/js/runtime~main.30af2eeb.js" as="script">
<link rel="preload" href="/assets/js/main.43616c92.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon-32x32.png" alt="My Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/favicon-32x32.png" alt="My Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/projects/p6">Projects</a><a class="navbar__item navbar__link" href="/artworks/frise-gidaire">Artworks</a><a class="navbar__item navbar__link" href="/resume">Resume</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/miscellaneous/game-jam">Miscellaneous</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/JulesFouchy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">All posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/blog/2021/03/19/golden-white-noise">Golden White Noise</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">Golden White Noise</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2021-03-19T00:00:00.000Z" itemprop="datePublished">March 19, 2021</time> Â· <!-- -->2 min read</div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>Every person interested in rendering through fragment shaders has already come across a function like this to generate some white noise:</p><div class="codeBlockContainer_I0IT language-glsl theme-code-block"><div class="codeBlockContent_wNvx glsl"><pre tabindex="0" class="prism-code language-glsl codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">float random(vec2 uv) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return fract(sin(dot(uv ,vec2(12.9898,78.233))) * 43758.5453);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And I used it too, until someone pointed out a big problem to me: on her device my artworks were all messed up! And it turned
out that many people were actually encountering the same problem. (You can see the artifacts in the comparison at the end)</p><p>After a bit of investigation I tracked it down to the <code>random</code> function that was not producing reliable results!
It turned out that depending on the precision of floats supported by your GPU the results were different. For low precision floats the quality of the distribution gets noticeably degraded.</p><p>And at this moment I remembered that guy at the bottom of a StackOverflow discussion claiming that his <code>Gold Noise</code> was much better.
And guess what, he was right! So thank you Dominic Cerisano for this lovely piece of code!</p><div class="codeBlockContainer_I0IT language-glsl theme-code-block"><div class="codeBlockContent_wNvx glsl"><pre tabindex="0" class="prism-code language-glsl codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">// Gold Noise Â©2015 dcerisano@standard3d.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// - based on the Golden Ratio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// - uniform normalized distribution</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// - fastest static noise generator function (also runs at low precision)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float PHI = 1.61803398874989484820459;  // Î¦ = Golden Ratio   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">float gold_noise(in vec2 xy, in float seed){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return fract(tan(distance(xy*PHI, xy)*seed)*xy.x);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Alternatively, you can rely on <a href="https://github.com/ashima/webgl-noise" target="_blank" rel="noopener noreferrer">https://github.com/ashima/webgl-noise</a> for your Perlin / simplex / fractal / <em>etc.</em> noise functions since they don&#x27;t make use of these pseudorandom number generators.</p></div></div><p>And here is a comparison of the visual results. <code>Gold Noise</code> produces the same (artifact-free) results on all the GPUs I could test with:</p><table><thead><tr><th></th><th>Classic white noise</th><th>Gold Noise</th></tr></thead><tbody><tr><td><strong>Potato GPU</strong></td><td><img alt="classic potato" src="/assets/images/classic_potato-132779f4f081fbd883fdc61b5da57c42.png" width="650" height="650"></td><td><img alt="golden potato" src="/assets/images/golden_potato-6133e3bbe78d14874c7d00fbe65c85aa.png" width="650" height="650"></td></tr><tr><td><strong>Good GPU</strong></td><td><img alt="classic good" src="/assets/images/classic_good-2ca390608a6fb40f51a968da71ee716f.png" width="650" height="650"></td><td><img alt="golden good" src="/assets/images/golden_good-89ce89a2396dca3188420e62ec52cb68.png" width="650" height="650"></td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Links</h5></div><div class="admonition-content"><p><a href="https://stackoverflow.com/questions/4200224/random-noise-functions-for-glsl" target="_blank" rel="noopener noreferrer"><em>The corresponding StackOverflow discussion</em></a><br>
<a href="https://www.shadertoy.com/view/fsf3DN" target="_blank" rel="noopener noreferrer"><em>A live comparison of the different types of white noise</em></a></p></div></div></div></article></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">My Classes</div><ul class="footer__items"><li class="footer__item"><a href="https://julesfouchy.github.io/Learn--Clean-Code-With-Cpp/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Clean Code with C++</a></li><li class="footer__item"><a href="https://julesfouchy.github.io/Learn--Generative-Art" target="_blank" rel="noopener noreferrer" class="footer__link-item">Generative Art</a></li><li class="footer__item"><a href="https://julesfouchy.github.io/Learn--Math-for-Art-and-Computer-Graphics" target="_blank" rel="noopener noreferrer" class="footer__link-item">Math for Art and Computer Graphics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Raise an issue !</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/JulesFouchy/julesfouchy.github.io/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ask a question</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy/julesfouchy.github.io/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Give me feedback</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy/julesfouchy.github.io/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a mistake</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.youtube.com/channel/UCpeT3Q6j8TAGRjW71vMZGYw" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li><li class="footer__item"><a href="https://github.com/JulesFouchy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022. Built with <a href="https://docusaurus.io/">Docusaurus</a>.
                  <div>Icons made by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a></div>
                  </div></div></div></footer></div>
<script src="/assets/js/runtime~main.30af2eeb.js"></script>
<script src="/assets/js/main.43616c92.js"></script>
</body>
</html>